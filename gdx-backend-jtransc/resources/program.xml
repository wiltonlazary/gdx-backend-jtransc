<?xml version="1.0" encoding="utf-8"?>
<project>
	<meta title="{{ title }}" package="{{ package }}" version="{{ version }}" company="{{ company }}" />
	<app main="{{ entryPointClass }}" path="out" file="{{ name }}" />
	<app swf-version="11.8" />

	<window width="{{ initialWidth }}" height="{{ initialHeight }}" background="#FFFFFF" />
	<window fullscreen="{{ fullscreen }}" resizable="{{ resizable }}" borderless="{{ borderless }}" hardware="true" allow-shaders="true" require-shaders="true" depth-buffer="true" stencil-buffer="true" orientation="{{ orientation }}" allow-high-dpi="true" />
	<window vsync="{{ vsync }}" antialiasing="4" if="cpp" />
	<window fullscreen="true" width="0" height="0" if="mobile" />
	<window fullscreen="false" if="js" />
	<window fps="60" unless="js" />
	{% if extra.fps %}
	<window fps="{{ extra.fps }}" unless="js" />
	{% end %}
	<window fps="0" if="js" />
	<window width="0" height="0" if="html5" />

	<setenv name="SHOW_CONSOLE" />

	<set name="BUILD_DIR" value="export/debug/" if="debug" />
	<set name="BUILD_DIR" value="export/release/" if="release" />

	{% for flag in haxeExtraFlags %}
		<haxeflag name="{{ flag.first }}" value="{{ flag.second }}" />
	{% end %}

	{% for define in haxeExtraDefines %}
		<haxedef name="{{ define }}" />
	{% end %}

	<source path="src" />
	<assets path="{{ tempAssetsDir }}" rename="assets" embed="{{ embedResources }}" exclude="*.ttf|*.fla|*.zip|*.swf" type="binary" />

	{% if androidIcons %}
	<define name="androidIcon" />
	{% end %}
	{% if iosIcons %}
	<define name="iosIcon" />
	{% end %}

	{% if extra.prerenderedIcon %}
	<config:ios prerendered-icon="{{ extra.prerenderedIcon }}" />
	{% end %}

	{% for androidIconPath in androidIcons %}
	<icon path="{{ androidIconPath }}" if="android androidIcon"/>
	{% end %}
	{% for iosIconPath in iosIcons %}
	<icon path="{{ iosIconPath }}" if="ios iosIcon"/>
	{% end %}
	{% if hasIcon  %}
	<icon path="{{ settings.icon }}" unless="androidIcon || iosIcon" />
	{% end %}

	{% for splashScreen in splashScreens %}
	<splashScreen path="{{ splashScreen }}" if="ios" />
	{% end %}

	{% if extra.deploymentVersion %}
	<config:ios deployment="{{ extra.deploymentVersion }}" />
	{% end %}
	{% if extra.ios_devices %}
	<config:ios devices="{{ extra.ios_devices }}" />
	{% end %}

	{% if extra.certificate_path %}
	{% debug "extra.certificate_path: " + extra.certificate_path %}
	<certificate
		path="{{ extra.certificate_path }}"
		{%if extra.certificate_password %} password="{{ extra.certificate_password }}"{% end %}
		{%if extra.certificate_alias %} alias="{{ extra.certificate_alias }}"{% end %}
		{%if extra.certificate_password %} alias-password="{{ extra.certificate_password }}"{% end %}
		if="android"
	/>
	{% end %}
	{% if extra.certificate_team_id %}
	<certificate team-id="{{ extra.certificate_team_id }}" if="ios" />
	{% end %}

	<haxelib name="lime" />
	{% for lib in libraries %}
		{% if lib.version != null %}
			<haxelib name="{{ lib.name }}" version="{{ lib.version }}" />
		{% else %}
			<haxelib name="{{ lib.name }}" />
		{% end %}
	{% end %}
</project>